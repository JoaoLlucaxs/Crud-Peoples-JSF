<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
	
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>CADASTROS</title>
</h:head>

<h:body>
	
	<h:form id="frm" style="display:block;text-align:center;">
	<p:messages autoUpdate="true" closable="true"/>
	
		<h1>CRUD Cadastro de Pessoa</h1>
		
		<p:outputLabel value="Id : "/>
		<p:inputText value="#{pessoaBean.pessoa.id}" readonly="true"/>
		<br/>
		
		<p:outputLabel value="Nome : " for="nome"/>
		<p:inputText value="#{pessoaBean.pessoa.nome}" id="nome" required="true"/>
		<br/>
		
		<p:outputLabel value="Sobrenome : " for="sobrenome"/>
		<p:inputText value="#{pessoaBean.pessoa.sobrenome}" id="sobrenome" required="true"/>
		<br/>
		
		<p:outputLabel value="Idade : " for="idadeP"/>
		<p:inputText value="#{pessoaBean.pessoa.idade}" id="idadeP" required="true"/>
		<br/>
		
		<p:commandButton value="Salvar"  ajax="false" action="#{pessoaBean.salvar()}" style="background-color:green;"/>
		
		<p:dataTable var="p" value="#{pessoaBean.pessoas}" style="margin-top:10px;" emptyMessage="Nenhuma pessoa encontrada"
		rows="20" paginator="true" paginatorAlwaysVisible="false" paginatorPosition="bottom">
	
    	<p:column headerText="ID">
        	<h:outputText value="#{p.id}"/>
    	</p:column>
 
    	<p:column headerText="NOME">
        	<h:outputText value="#{p.nome}" />
    	</p:column>
 
    	<p:column headerText="SOBRENOME">
        	<h:outputText value="#{p.sobrenome}" />
    	</p:column>
 
    	<p:column headerText="IDADE">
        	<h:outputText value="#{p.idade}" />
    	</p:column>
    	
    	
    	<p:column headerText="Edite">
 			<p:commandButton value="EDITAR" action="#{pessoaBean.salvar()}" icon="ui-icon-pencil" update="@form" process="@this">
    			<f:setPropertyActionListener value="#{p}" target="#{pessoaBean.pessoa}"/>
    		</p:commandButton>
    	</p:column>
    	
    	<p:column headerText="Exclua">
    		<p:commandButton value="EXCLUIR" action="#{pessoaBean.delete()}" icon="ui-icon-trash" update="@form" process="@this">
    			<f:setPropertyActionListener value="#{p}" target="#{pessoaBean.pessoa}"/>
    		</p:commandButton>	
    	</p:column>
    	
	</p:dataTable>
	
	</h:form>
	
</h:body>
</html>